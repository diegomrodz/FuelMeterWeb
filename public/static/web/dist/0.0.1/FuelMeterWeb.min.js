/*! FuelMeterWeb 2016-05-14 */
function app_url(a){return APP_URL+"/"+a}function web_url(a){return app_url("web/"+a)}function api_url(a){return app_url("api/"+a)}function api_v1_url(a){return api_url("v1/"+a)}var FuelMeterWeb=angular.module("FuelMeterWeb",["ngRoute"]),APP_URL=$("#APP_URL").val(),CSRF_TOKEN=$("#CSRF_TOKEN").val();FuelMeterWeb.run([function(){}]),FuelMeterWeb.config(["$routeProvider",function(a){a.when("/",{templateUrl:web_url("index"),controller:"IndexCtrl"}).when("/new",{templateUrl:web_url("sample/new"),controller:"NewSampleCtrl"})}]),FuelMeterWeb.controller("IndexCtrl",["$scope",function(a){}]),FuelMeterWeb.controller("NewSampleCtrl",["$scope","$http","AEACService",function(a,b,c){a.calcAEAC=function(){return a.sampleVolume&&""!=a.sampleVolume?100*c.calc(a.sampleVolume):""},a.searchCep=function(){if(!a.stationCep||""==a.stationCep)return alert("Por favor, informe o cep para pesquisar o endereço.");var c="https://viacep.com.br/ws/"+a.stationCep+"/json/",d="https://maps.googleapis.com/maps/api/geocode/json?address="+a.stationCep;b({url:c,method:"get",dataType:"json"}).then(function(b){a.stationState=b.data.uf,a.stationCity=b.data.localidade,a.stationDistrict=b.data.bairro,a.stationAddress=b.data.logradouro},function(){alert("Houve um erro na busca do endereço, por favor verifique se o CEP foi informado corretamente")}),b({url:d,method:"get",dataType:"json"}).then(function(b){var c=b.data.results[0];a.stationLat=c.geometry.location.lat,a.stationLng=c.geometry.location.lng},function(){alert("Houve um erro na obtenção das coordenadas geográficas do cep informado.")})}}]),FuelMeterWeb.service("SampleRepository",["$http",function(){var a=this;a.store=function(a){return $http({url:api_v1_url("sample"),method:"post",data:{sample:a,_token:CSRF_TOKEN},dataType:"json"})}}]),FuelMeterWeb.service("AEACService",[function(){var a=this;a.calc=function(a){var b=a-50;if(.5>b)return.01;var c=2*b+1;return(c>0?c:-c)/100}}]);